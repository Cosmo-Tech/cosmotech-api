logging:
  level:
    com:
      cosmotech: INFO
    org:
      springframework:
        security: DEBUG

spring:
  output:
    ansi:
      enabled: ALWAYS
  cloud:
    discovery:
      enabled: false
    kubernetes:
      enabled: false
security:
  oauth2:
    resource:
      user-info-uri: https://graph.microsoft.com/oidc/userinfo
      jwk:
        key-set-uri: https://login.microsoftonline.com/common/discovery/v2.0/keys

management:
  endpoint:
    health:
      probes:
        # This exposes the following endpoints for Kubernetes: /actuator/health/{live,readi}ness
        enabled: true
  endpoints:
    web:
      exposure:
        include: "*"
  server:
    port: 8081

server:
  jetty:
    accesslog:
      enabled: true
      format: extended_ncsa
  servlet:
    context-path:
  forward-headers-strategy: native

csm:
  platform:
    summary: Cosmo Tech Platform
    description: Cosmo Tech Digital Twins Simulation Platform
    version: "1.0.0"
    api:
      # API Base Path for OpenAPI-generated controllers.
      # Might conflict with the SpringBoot context path, hence leaving it at the root
      base-path: /
      base-url: "http://cosmotech-api-${csm.platform.api.version}:8080"
      version: latest
    id-generator:
      type: hashid
    event-publisher:
      type: in_process
    argo:
      base-uri: "https://localhost:2746"
      image-pull-secrets: []
    images:
      scenario-fetch-parameters: cosmo-tech/fetch-scenario-parameters
      send-datawarehouse: cosmo-tech/azure-data-explorer-connector
    vendor: azure
    azure:
      appIdUri: "http://dev.api.cosmotech.com"
      credentials:
        tenantId:
        clientId:
        clientSecret:
      storage:
        baseUri:
        resourceUri:
        # Storage account name length should be between 3 and 24 and use numbers and lower-case letters only
        account-name: "[storage-account-name]"
        # Fill storage account access key copied from portal
        account-key: "[storage-account-access-key]"
        # Fill storage endpoint URL copied from portal
        blob-endpoint: "https://${csm.platform.azure.storage.account-name}.blob.core.windows.net"
        connection-string: "DefaultEndpointsProtocol=https;AccountName=${csm.platform.azure.storage.account-name};AccountKey=${csm.platform.azure.storage.account-key};EndpointSuffix=core.windows.net"
      containerRegistries:
        core: ghcr.io
        solutions:
      eventBus:
        baseUri:
      dataWarehouseCluster:
        baseUri:
        options:
          ingestionUri:
      keyVault:
      analytics:
        resourceUri:
        instrumentationKey:
        connectionString: "InstrumentationKey=${csm.platform.azure.analytics.instrumentationKey};IngestionEndpoint=https://francecentral-0.in.applicationinsights.azure.com/"
      cosmos:
        allowTelemetry: false
        connectionMode:
        consistencyLevel:
        core-database:
          name: phoenix-core
          connectors:
            container: connectors
          organizations:
            container: organizations
          users:
            container: users
        key:
        populateQueryMetrics: true
        uri:

springdoc:
  # See https://springdoc.org/#properties
  api-docs:
    path: /openapi
  pre-loading-enabled: true
  remove-broken-reference-definitions: false
  show-actuator: false
  swagger-ui:
    # Disable the swagger-ui default petstore url
    disable-swagger-default-url: true
    display-request-duration: true
    filter: true
    tags-sorter: alpha
  writer-with-default-pretty-printer: true

# Aliases
api:
  base-path: ${csm.platform.api.base-path}
  swagger-ui:
    base-path: ${server.servlet.context-path}
  version: ${csm.platform.api.version}

#  azure.storage.account-name=[storage-account-name]
#
#
#  azure.storage.account-key=[storage-account-access-key]
#
#
#  azure.storage.blob-endpoint=[storage-blob-endpoint-URL]
#
#  # Change into your containerName and blobName
#  blob=azure-blob://your-containerName/your-blobName
